<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="先前有尝试过用VMware装Archlinux因为整个系统都是在Cli下一步步引导安装打算针对只会Windows的完全没接触过GNU&#x2F;Linux的新手写一个零基础安装教学 内容可能有一些错误，如有发现请即刻私信我 我也是第一次装，如果遇到什么问题可以找我讨论讨论 另外，尽管这类教程Google上一搜一大片 但我还是决定把自己装过一次后的经验写下来 方便以后重装的时候复现 所以这个教学不只是针对你们">
<meta property="og:type" content="article">
<meta property="og:title" content="ArchLinux安装指南">
<meta property="og:url" content="https://wynio.pw/posts/ae4f/index.html">
<meta property="og:site_name" content="Nocturne">
<meta property="og:description" content="先前有尝试过用VMware装Archlinux因为整个系统都是在Cli下一步步引导安装打算针对只会Windows的完全没接触过GNU&#x2F;Linux的新手写一个零基础安装教学 内容可能有一些错误，如有发现请即刻私信我 我也是第一次装，如果遇到什么问题可以找我讨论讨论 另外，尽管这类教程Google上一搜一大片 但我还是决定把自己装过一次后的经验写下来 方便以后重装的时候复现 所以这个教学不只是针对你们">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://wynio.pw/css/1.jpg">
<meta property="og:image" content="https://wynio.pw/css/2.png">
<meta property="og:image" content="https://wynio.pw/css/1.png">
<meta property="og:image" content="https://wynio.pw/css/3.png">
<meta property="og:image" content="https://wynio.pw/css/4.png">
<meta property="og:image" content="https://wynio.pw/css/5.png">
<meta property="og:image" content="https://wynio.pw/css/6.png">
<meta property="og:image" content="https://wynio.pw/css/2.jpg">
<meta property="og:image" content="https://wynio.pw/css/7.png">
<meta property="og:image" content="https://wynio.pw/css/8.png">
<meta property="og:image" content="https://wynio.pw/css/32.png">
<meta property="og:image" content="https://wynio.pw/css/9.png">
<meta property="og:image" content="https://wynio.pw/css/33.png">
<meta property="article:published_time" content="2021-01-26T04:23:19.000Z">
<meta property="article:modified_time" content="2022-01-09T02:41:16.811Z">
<meta property="article:author" content="Resalia">
<meta property="article:tag" content="Linux">
<meta property="article:tag" content="系统">
<meta property="article:tag" content="瞎折腾">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://wynio.pw/css/1.jpg">
    
    
      
        
          <link rel="shortcut icon" href="/css/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/css/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/css/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>ArchLinux安装指南</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
      
<link rel="stylesheet" href="/css/rtl.css">

    
    <!-- rss -->
    
    
      <link rel="alternate" href="/atom.xml" title="Nocturne" type="application/atom+xml" />
    
<meta name="generator" content="Hexo 5.3.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">首页</a></li>
         
          <li><a href="/archives">归档</a></li>
         
          <li><a href="/categories/">分类</a></li>
         
          <li><a href="/tags/">标签</a></li>
         
          <li><a href="/about/">关于</a></li>
         
          <li><a href="/friends/">朋友</a></li>
         
          <li><a href="/search/">搜索</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/posts/3166/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/posts/b180/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">上一篇</span>
      <span id="i-next" class="info" style="display:none;">下一篇</span>
      <span id="i-top" class="info" style="display:none;">返回顶部</span>
      <span id="i-share" class="info" style="display:none;">分享文章</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://wynio.pw/posts/ae4f/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://wynio.pw/posts/ae4f/&text=ArchLinux安装指南"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://wynio.pw/posts/ae4f/&title=ArchLinux安装指南"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://wynio.pw/posts/ae4f/&is_video=false&description=ArchLinux安装指南"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=ArchLinux安装指南&body=Check out this article: https://wynio.pw/posts/ae4f/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://wynio.pw/posts/ae4f/&title=ArchLinux安装指南"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://wynio.pw/posts/ae4f/&title=ArchLinux安装指南"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://wynio.pw/posts/ae4f/&title=ArchLinux安装指南"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://wynio.pw/posts/ae4f/&title=ArchLinux安装指南"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://wynio.pw/posts/ae4f/&name=ArchLinux安装指南&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://wynio.pw/posts/ae4f/&t=ArchLinux安装指南"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%88%E5%89%8D%E6%9C%89%E5%B0%9D%E8%AF%95%E8%BF%87%E7%94%A8VMware%E8%A3%85Archlinux"><span class="toc-number">1.</span> <span class="toc-text">先前有尝试过用VMware装Archlinux</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9B%A0%E4%B8%BA%E6%95%B4%E4%B8%AA%E7%B3%BB%E7%BB%9F%E9%83%BD%E6%98%AF%E5%9C%A8Cli%E4%B8%8B%E4%B8%80%E6%AD%A5%E6%AD%A5%E5%BC%95%E5%AF%BC%E5%AE%89%E8%A3%85"><span class="toc-number">1.0.0.0.1.</span> <span class="toc-text">因为整个系统都是在Cli下一步步引导安装</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%89%80%E4%BB%A5%E8%BF%99%E4%B8%AA%E6%95%99%E5%AD%A6%E4%B8%8D%E5%8F%AA%E6%98%AF%E9%92%88%E5%AF%B9%E4%BD%A0%E4%BB%AC%EF%BC%8C%E4%B9%9F%E6%98%AF%E4%B8%BA%E4%BA%86%E6%88%91%E4%BB%A5%E5%90%8E%E8%83%BD%E5%A4%9F%E9%A1%BA%E5%88%A9%E9%87%8D%E8%A3%85"><span class="toc-number">1.0.0.0.2.</span> <span class="toc-text">所以这个教学不只是针对你们，也是为了我以后能够顺利重装</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9C%80%E5%90%8E%E8%AF%B4%E6%98%8E%EF%BC%8C%E6%9C%AC%E6%AC%A1%E6%95%99%E5%AD%A6%E6%BC%94%E7%A4%BA%E5%B0%86%E4%BD%BF%E7%94%A8VMware%E8%BF%9B%E8%A1%8C%EF%BC%8C%E5%92%8C%E5%AE%9E%E6%9C%BA%E6%93%8D%E4%BD%9C%E5%8F%AF%E8%83%BD%E6%9C%89%E5%87%BA%E5%85%A5%EF%BC%8C%E5%A4%A7%E5%AE%B6%E4%BB%85%E4%BE%9B%E5%8F%82%E8%80%83"><span class="toc-number">1.0.0.0.3.</span> <span class="toc-text">最后说明，本次教学演示将使用VMware进行，和实机操作可能有出入，大家仅供参考</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BA%9F%E8%AF%9D%E8%AF%B4%E5%AE%8C%E4%BA%86%EF%BC%8C%E5%BC%80%E5%A7%8B%E6%93%8D%E4%BD%9C"><span class="toc-number">1.0.0.0.4.</span> <span class="toc-text">废话说完了，开始操作</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%89%8D%E5%87%86%E5%A4%87"><span class="toc-number">1.0.1.</span> <span class="toc-text">安装前准备</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A6%96%E5%85%88%E6%8A%8A%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E7%9A%84%E9%93%BE%E6%8E%A5%E6%94%BE%E5%9C%A8%E4%B8%8B%E9%9D%A2%EF%BC%8C%E6%9C%89%E8%83%BD%E5%8A%9B%E7%9A%84%E5%85%88%E5%AF%B9%E7%85%A7%E7%9D%80%E7%9C%8B"><span class="toc-number">1.0.1.1.</span> <span class="toc-text">首先把官方文档的链接放在下面，有能力的先对照着看</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">1.0.2.</span> <span class="toc-text">安装</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%B3%E4%BA%8EVMware%E7%9A%84%E5%88%9B%E5%BB%BA%E8%99%9A%E6%8B%9F%E6%9C%BA%E8%BF%87%E7%A8%8B%E5%B0%B1%E4%B8%8D%E4%B8%80%E4%B8%80%E9%98%90%E8%BF%B0%E4%BA%86%EF%BC%8C%E6%8E%A5%E4%B8%8B%E6%9D%A5%E5%8F%AA%E6%9C%89%E5%85%B3%E4%BA%8E%E5%88%9B%E5%BB%BA%E5%AE%8C%E6%88%90%E5%90%8E%E7%9A%84%E5%BC%95%E5%AF%BC%E6%93%8D%E4%BD%9C"><span class="toc-number">1.0.2.0.1.</span> <span class="toc-text">关于VMware的创建虚拟机过程就不一一阐述了，接下来只有关于创建完成后的引导操作</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BF%99%E9%87%8C%E9%80%89%E6%8B%A9%E7%AC%AC%E4%B8%80%E4%B8%AA%E9%80%89%E9%A1%B9%E6%88%96%E6%98%AF%E7%AD%89%E5%BE%85%E8%BF%87%E5%90%8E%E8%87%AA%E5%8A%A8%E8%BF%9B%E5%85%A5%E5%AE%89%E8%A3%85%E9%A1%B5%E9%9D%A2"><span class="toc-number">1.0.2.0.2.</span> <span class="toc-text">这里选择第一个选项或是等待过后自动进入安装页面</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A6%96%E5%85%88%E7%A1%AE%E5%AE%9A%E8%87%AA%E5%B7%B1%E7%9A%84%E5%BC%95%E5%AF%BC%E6%96%B9%E5%BC%8F"><span class="toc-number">1.0.3.</span> <span class="toc-text">首先确定自己的引导方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8B%E4%B8%80%E6%AD%A5%E6%98%AF%E8%81%94%E7%BD%91"><span class="toc-number">1.0.4.</span> <span class="toc-text">下一步是联网</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A6%82%E6%9E%9C%E4%BD%A0%E6%98%AF%E6%9C%89%E7%BA%BF%E7%BD%91%EF%BC%8C%E8%BE%93%E5%85%A5%E4%BB%A5%E4%B8%8B%E5%91%BD%E4%BB%A4%E8%8E%B7%E5%8F%96IP%E5%9C%B0%E5%9D%80"><span class="toc-number">1.0.4.0.1.</span> <span class="toc-text">如果你是有线网，输入以下命令获取IP地址</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A6%82%E6%9E%9C%E4%BD%A0%E6%98%AF%E6%97%A0%E7%BA%BF%E7%BD%91%EF%BC%8C%E5%B0%B1%E6%89%A7%E8%A1%8C%E4%BB%A5%E4%B8%8B%E5%91%BD%E4%BB%A4%EF%BC%9A"><span class="toc-number">1.0.4.0.2.</span> <span class="toc-text">如果你是无线网，就执行以下命令：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%88%90%E5%8A%9F%E8%BF%9E%E4%B8%8A%E7%BD%91%E5%90%8E%EF%BC%8C%E5%85%88%E6%9B%B4%E6%96%B0%E7%B3%BB%E7%BB%9F%E6%97%B6%E9%97%B4"><span class="toc-number">1.0.4.0.3.</span> <span class="toc-text">成功连上网后，先更新系统时间</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BF%99%E4%B8%8B%E5%BA%94%E8%AF%A5%E6%B2%A1%E9%97%AE%E9%A2%98%E4%BA%86%EF%BC%8C%E7%84%B6%E5%90%8E%E8%BF%9B%E8%A1%8C%E4%B8%8B%E4%B8%80%E6%AD%A5"><span class="toc-number">1.0.4.0.4.</span> <span class="toc-text">这下应该没问题了，然后进行下一步</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E5%8C%BA"><span class="toc-number">1.0.5.</span> <span class="toc-text">分区</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E5%89%8D%E4%B8%80%E5%AE%9A%E8%A6%81%E7%89%B9%E5%88%AB%E6%B3%A8%E6%84%8F%EF%BC%8C%E4%B8%80%E5%AE%9A%E4%B8%8D%E8%A6%81%E6%93%8D%E4%BD%9C%E5%A4%B1%E8%AF%AF%EF%BC%8C%E4%B8%80%E5%AE%9A%E8%A6%81%E6%B8%85%E6%A5%9A%E8%87%AA%E5%B7%B1%E6%89%80%E5%81%9A%E7%9A%84%E6%AF%8F%E4%B8%80%E6%AD%A5%E5%B8%A6%E6%9D%A5%E7%9A%84%E5%BD%B1%E5%93%8D%EF%BC%8C%E4%B8%8D%E7%84%B6%E4%BD%A0%E6%95%B0%E6%8D%AE%E6%B2%A1%E4%BA%86%EF%BC%8C%E4%B8%8D%E8%BF%87%E6%88%91%E6%98%AF%E8%99%9A%E6%8B%9F%E6%9C%BA%EF%BC%8C%E5%8F%AF%E4%BB%A5%E9%9A%8F%E4%BE%BF%E8%AF%95"><span class="toc-number">1.0.5.0.1.</span> <span class="toc-text">操作前一定要特别注意，一定不要操作失误，一定要清楚自己所做的每一步带来的影响，不然你数据没了，不过我是虚拟机，可以随便试</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%A6%96%E5%85%88%E6%9F%A5%E7%9C%8B%E7%9B%AE%E5%89%8D%E7%9A%84%E5%88%86%E5%8C%BA%E6%83%85%E5%86%B5"><span class="toc-number">1.0.5.0.2.</span> <span class="toc-text">首先查看目前的分区情况</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8E%A5%E4%B8%8B%E6%9D%A5%E6%88%91%E4%BB%AC%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%BC%95%E5%AF%BC%E5%88%86%E5%8C%BA"><span class="toc-number">1.0.5.0.3.</span> <span class="toc-text">接下来我们创建一个引导分区</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%89%A7%E8%A1%8C%E5%AE%8C%E4%B8%8A%E9%9D%A2%E6%93%8D%E4%BD%9C%E5%90%8E%E5%BC%95%E5%AF%BC%E5%88%86%E5%8C%BA%E5%B0%B1%E5%88%9B%E5%BB%BA%E5%A5%BD%E4%BA%86"><span class="toc-number">1.0.5.0.4.</span> <span class="toc-text">执行完上面操作后引导分区就创建好了</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%A0%B9%E5%88%86%E5%8C%BA"><span class="toc-number">1.0.5.0.5.</span> <span class="toc-text">创建一个根分区</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%82%E8%BD%BD"><span class="toc-number">1.0.6.</span> <span class="toc-text">挂载</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%89%A7%E8%A1%8C%E4%BB%A5%E4%B8%8B%E5%91%BD%E4%BB%A4%E5%B0%86%E5%88%86%E5%8C%BA%E6%8C%82%E8%BD%BD%E5%88%B0-mnt"><span class="toc-number">1.0.6.0.1.</span> <span class="toc-text">执行以下命令将分区挂载到&#x2F;mnt</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A6%82%E6%9E%9C%E6%98%AFEFI-GPT%E5%BC%95%E5%AF%BC%E6%96%B9%E5%BC%8F%EF%BC%8C%E6%89%A7%E8%A1%8C%E4%B8%8B%E5%88%97%E5%91%BD%E4%BB%A4%E6%8C%82%E8%BD%BD%E5%88%B0-mnt-boot"><span class="toc-number">1.0.6.0.2.</span> <span class="toc-text">如果是EFI&#x2F;GPT引导方式，执行下列命令挂载到&#x2F;mnt&#x2F;boot</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8C%82%E8%BD%BD%E7%BB%93%E6%9D%9F%E5%B0%B1%E5%8F%AF%E4%BB%A5%E9%80%89%E6%8B%A9%E9%95%9C%E5%83%8F%E4%BA%86"><span class="toc-number">1.0.6.0.3.</span> <span class="toc-text">挂载结束就可以选择镜像了</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E9%95%9C%E5%83%8F"><span class="toc-number">1.0.7.</span> <span class="toc-text">选择镜像</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%9F%BA%E6%9C%AC%E5%8C%85"><span class="toc-number">1.0.8.</span> <span class="toc-text">安装基本包</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%87%8D%E6%96%B0%E5%87%BA%E7%8E%B0%E5%91%BD%E4%BB%A4%E6%8F%90%E7%A4%BA%E7%AC%A6%E8%AF%B4%E6%98%8E%E4%B8%8B%E8%BD%BD%E7%BB%93%E6%9D%9F%E4%BA%86%EF%BC%8C%E5%8F%AF%E4%BB%A5%E8%BF%9B%E8%A1%8C%E4%B8%8B%E4%B8%80%E6%AD%A5%E6%93%8D%E4%BD%9C"><span class="toc-number">1.0.8.0.1.</span> <span class="toc-text">重新出现命令提示符说明下载结束了，可以进行下一步操作</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AEFstab"><span class="toc-number">1.0.9.</span> <span class="toc-text">配置Fstab</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Chroot"><span class="toc-number">1.0.10.</span> <span class="toc-text">Chroot</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%83%8F%E4%B8%8A%E9%9D%A2%E8%BF%99%E6%A0%B7"><span class="toc-number">1.0.10.0.1.</span> <span class="toc-text">像上面这样</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E6%97%B6%E5%8C%BA"><span class="toc-number">1.0.11.</span> <span class="toc-text">设置时区</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%BF%85%E9%A1%BB%E8%BD%AF%E4%BB%B6%E5%8C%85"><span class="toc-number">1.0.12.</span> <span class="toc-text">安装必须软件包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AElocale"><span class="toc-number">1.0.13.</span> <span class="toc-text">设置locale</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AERoot%E5%AF%86%E7%A0%81"><span class="toc-number">1.0.14.</span> <span class="toc-text">设置Root密码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85Intel-ucode-%E9%9D%9EIntel%E7%9A%84CPU%E7%9A%84%E5%B0%B1%E8%B7%B3%E8%BF%87"><span class="toc-number">1.0.15.</span> <span class="toc-text">安装Intel-ucode(非Intel的CPU的就跳过)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E6%9E%9C%E5%AD%98%E5%9C%A8%E5%85%B6%E4%BB%96%E7%B3%BB%E7%BB%9F%EF%BC%8C%E5%AE%89%E8%A3%85os-prober"><span class="toc-number">1.0.16.</span> <span class="toc-text">如果存在其他系统，安装os-prober</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85grub%E8%BF%9B%E8%A1%8C%E5%BC%95%E5%AF%BC"><span class="toc-number">1.0.17.</span> <span class="toc-text">安装grub进行引导</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%89%E8%A3%85grub%EF%BC%9A"><span class="toc-number">1.0.17.0.1.</span> <span class="toc-text">安装grub：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%83%A8%E7%BD%B2grub%EF%BC%9A"><span class="toc-number">1.0.17.0.2.</span> <span class="toc-text">部署grub：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%9A"><span class="toc-number">1.0.17.0.3.</span> <span class="toc-text">生成配置文件：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A6%82%E6%9E%9C%E6%98%AFEFI-GPT%E5%BC%95%E5%AF%BC%E6%96%B9%E5%BC%8F"><span class="toc-number">1.0.17.0.4.</span> <span class="toc-text">如果是EFI&#x2F;GPT引导方式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%89%E8%A3%85grub%E5%92%8Cefibootmgr%EF%BC%9A"><span class="toc-number">1.0.17.0.5.</span> <span class="toc-text">安装grub和efibootmgr：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%83%A8%E7%BD%B2grub%EF%BC%9A-1"><span class="toc-number">1.0.17.0.6.</span> <span class="toc-text">部署grub：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%9A-1"><span class="toc-number">1.0.17.0.7.</span> <span class="toc-text">生成配置文件：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%90%8E%E6%A3%80%E6%9F%A5"><span class="toc-number">1.0.18.</span> <span class="toc-text">安装后检查</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Reboot"><span class="toc-number">1.0.19.</span> <span class="toc-text">Reboot</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%80%E5%AE%9A%E8%A6%81%E5%85%88%E7%A1%AE%E4%BF%9D%E6%89%80%E6%9C%89%E6%AD%A5%E9%AA%A4%E6%97%A0%E8%AF%AF%EF%BC%8C%E5%90%A6%E5%88%99%E9%87%8D%E5%90%AF%E5%90%8E%E4%B8%80%E5%88%87%E5%8A%AA%E5%8A%9B%E5%B0%B1%E4%BC%9A%E5%85%A8%E9%83%A8%E6%9C%A8%E5%A4%A7%EF%BC%81"><span class="toc-number">1.0.19.0.1.</span> <span class="toc-text">一定要先确保所有步骤无误，否则重启后一切努力就会全部木大！</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%90%8E%E9%85%8D%E7%BD%AE"><span class="toc-number">1.1.</span> <span class="toc-text">安装后配置</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%89%E8%A3%85gnome%E5%9B%BE%E5%BD%A2%E7%95%8C%E9%9D%A2"><span class="toc-number">1.1.0.0.1.</span> <span class="toc-text">安装gnome图形界面</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%89%E8%A3%85Xorg"><span class="toc-number">1.1.0.0.2.</span> <span class="toc-text">安装Xorg</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE"><span class="toc-number">1.1.0.0.3.</span> <span class="toc-text">网络配置</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%B9%B6%E5%90%AF%E7%94%A8gdm"><span class="toc-number">1.1.0.0.4.</span> <span class="toc-text">安装并启用gdm</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E7%BB%93%E6%9D%9F"><span class="toc-number">1.2.</span> <span class="toc-text">安装结束</span></a></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        ArchLinux安装指南
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Resalia</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2021-01-26T04:23:19.000Z" itemprop="datePublished">2021-01-26</time>
        
        (Updated: <time datetime="2022-01-09T02:41:16.811Z" itemprop="dateModified">2022-01-09</time>)
        
      
    </div>


      
    <div class="article-category">
        <i class="fas fa-archive"></i>
        <a class="category-link" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a>
    </div>


      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link-link" href="/tags/Linux/" rel="tag">Linux</a>, <a class="tag-link-link" href="/tags/%E7%9E%8E%E6%8A%98%E8%85%BE/" rel="tag">瞎折腾</a>, <a class="tag-link-link" href="/tags/%E7%B3%BB%E7%BB%9F/" rel="tag">系统</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h1 id="先前有尝试过用VMware装Archlinux"><a href="#先前有尝试过用VMware装Archlinux" class="headerlink" title="先前有尝试过用VMware装Archlinux"></a>先前有尝试过用VMware装Archlinux</h1><h5 id="因为整个系统都是在Cli下一步步引导安装"><a href="#因为整个系统都是在Cli下一步步引导安装" class="headerlink" title="因为整个系统都是在Cli下一步步引导安装"></a>因为整个系统都是在Cli下一步步引导安装</h5><p>打算针对只会Windows的完全没接触过GNU/Linux的新手写一个零基础安装教学</p>
<p>内容可能有一些错误，如有发现请即刻私信我</p>
<p>我也是第一次装，如果遇到什么问题可以找我讨论讨论<img src="/css/1.jpg"></p>
<p>另外，尽管这类教程Google上一搜一大片</p>
<p>但我还是决定把自己装过一次后的经验写下来</p>
<p>方便以后重装的时候复现</p>
<h5 id="所以这个教学不只是针对你们，也是为了我以后能够顺利重装"><a href="#所以这个教学不只是针对你们，也是为了我以后能够顺利重装" class="headerlink" title="所以这个教学不只是针对你们，也是为了我以后能够顺利重装"></a>所以这个教学不只是针对你们，也是为了我以后能够顺利重装</h5><h5 id="最后说明，本次教学演示将使用VMware进行，和实机操作可能有出入，大家仅供参考"><a href="#最后说明，本次教学演示将使用VMware进行，和实机操作可能有出入，大家仅供参考" class="headerlink" title="最后说明，本次教学演示将使用VMware进行，和实机操作可能有出入，大家仅供参考"></a>最后说明，本次教学演示将使用VMware进行，和实机操作可能有出入，大家仅供参考</h5><h5 id="废话说完了，开始操作"><a href="#废话说完了，开始操作" class="headerlink" title="废话说完了，开始操作"></a>废话说完了，开始操作</h5><h3 id="安装前准备"><a href="#安装前准备" class="headerlink" title="安装前准备"></a>安装前准备</h3><h4 id="首先把官方文档的链接放在下面，有能力的先对照着看"><a href="#首先把官方文档的链接放在下面，有能力的先对照着看" class="headerlink" title="首先把官方文档的链接放在下面，有能力的先对照着看"></a>首先把官方文档的链接放在下面，有能力的先对照着看</h4><blockquote>
<p><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/Installation_guide">https://wiki.archlinux.org/index.php/Installation_guide</a></p>
</blockquote>
<p>然后因为我是用VMware安装，所以不需要考虑备份的问题</p>
<p>如果你是实体机安装，请先自行<strong>备份</strong></p>
<p>备份结束后就可以下载ISO了</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.archlinux.org/download/">https://www.archlinux.org/download/</a></p>
</blockquote>
<p>进入以后可以选择下载磁力链或种子<br><img src="/css/2.png"></p>
<p>当然我是选择的磁力链，迅雷下载也是比较快的</p>
<p>下载结束后也最好检验一下哈希值，这里就不详细说明怎么检验了</p>
<p><del>因为我也不会</del></p>
<p>准备工作结束后，就可以开始安装了</p>
<hr>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><h5 id="关于VMware的创建虚拟机过程就不一一阐述了，接下来只有关于创建完成后的引导操作"><a href="#关于VMware的创建虚拟机过程就不一一阐述了，接下来只有关于创建完成后的引导操作" class="headerlink" title="关于VMware的创建虚拟机过程就不一一阐述了，接下来只有关于创建完成后的引导操作"></a>关于VMware的创建虚拟机过程就不一一阐述了，接下来只有关于创建完成后的引导操作</h5><p>另外如果出现这样的界面已经成功了</p>
<p><img src="/css/1.png" alt="另外如果出现这样的界面已经成功了"></p>
<h5 id="这里选择第一个选项或是等待过后自动进入安装页面"><a href="#这里选择第一个选项或是等待过后自动进入安装页面" class="headerlink" title="这里选择第一个选项或是等待过后自动进入安装页面"></a>这里选择第一个选项或是等待过后自动进入安装页面</h5><p><img src="/css/3.png" alt="1"></p>
<h3 id="首先确定自己的引导方式"><a href="#首先确定自己的引导方式" class="headerlink" title="首先确定自己的引导方式"></a>首先确定自己的引导方式</h3><p>执行以下命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls &#x2F;sys&#x2F;firmware&#x2F;efi&#x2F;efivars</span><br></pre></td></tr></table></figure>
<p>执行命令后，如果提示</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls: cannot access &#39;&#x2F;sys&#x2F;firmware&#x2F;efi&#x2F;efivars&#39;: No such file or directory</span><br></pre></td></tr></table></figure>
<p>说明你是以BIOS方式引导，反之为以EFI方式引导</p>
<p>两种不同的类型安装方式也会略有不同</p>
<hr>
<h3 id="下一步是联网"><a href="#下一步是联网" class="headerlink" title="下一步是联网"></a>下一步是联网</h3><p><strong>arch</strong>不能离线安装，需要通过联网来下载相关的包和组件，首先我们需要联网</p>
<ul>
<li><h5 id="如果你是有线网，输入以下命令获取IP地址"><a href="#如果你是有线网，输入以下命令获取IP地址" class="headerlink" title="如果你是有线网，输入以下命令获取IP地址"></a>如果你是有线网，输入以下命令获取IP地址</h5></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dhcpcd</span><br></pre></td></tr></table></figure>
<p>然后再通过ping来判断是否联网，例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping www.baidu.com</span><br></pre></td></tr></table></figure>
<p>ping通了就说明连上网了</p>
<ul>
<li><h5 id="如果你是无线网，就执行以下命令："><a href="#如果你是无线网，就执行以下命令：" class="headerlink" title="如果你是无线网，就执行以下命令："></a>如果你是无线网，就执行以下命令：</h5></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iwctl</span><br></pre></td></tr></table></figure>
<p><img src="/css/4.png" alt="1"></p>
<p>会进入这个以<strong>iwd</strong>开头的Cli环境中，然后执行</p>
<p>你们都注意到了，我没有无线网卡，因为我是有线网络，因此我决定做一回理论带师</p>
<p>执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">station name scan # 使用称为name的网卡进行无线网络扫描</span><br><span class="line">station name get-networks # 使用称为name的网卡列出扫描到的网络</span><br><span class="line">station name connect Name # 使用称为name的网卡连接到Name网络</span><br></pre></td></tr></table></figure>
<p>之后按要求输入密码，就能成功连上网了，执行下面命令以退出iwd</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">quit</span><br></pre></td></tr></table></figure>
<p>由于我没进行过实际操作，如果有什么疑义可以去下面的文档查找相关解决方法</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/Wireless_network_configuration">https://wiki.archlinux.org/index.php/Wireless_network_configuration</a></p>
</blockquote>
<h5 id="成功连上网后，先更新系统时间"><a href="#成功连上网后，先更新系统时间" class="headerlink" title="成功连上网后，先更新系统时间"></a>成功连上网后，先更新系统时间</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">timedatectl set-ntp true</span><br></pre></td></tr></table></figure>
<p>正常情况下是没什么输出的..如果出现了什么新的情况，我也没什么办法，因为我是正常的</p>
<p>实在不放心的就输入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">timedatectl status</span><br></pre></td></tr></table></figure>
<h5 id="这下应该没问题了，然后进行下一步"><a href="#这下应该没问题了，然后进行下一步" class="headerlink" title="这下应该没问题了，然后进行下一步"></a>这下应该没问题了，然后进行下一步</h5><hr>
<h3 id="分区"><a href="#分区" class="headerlink" title="分区"></a>分区</h3><h5 id="操作前一定要特别注意，一定不要操作失误，一定要清楚自己所做的每一步带来的影响，不然你数据没了，不过我是虚拟机，可以随便试"><a href="#操作前一定要特别注意，一定不要操作失误，一定要清楚自己所做的每一步带来的影响，不然你数据没了，不过我是虚拟机，可以随便试" class="headerlink" title="操作前一定要特别注意，一定不要操作失误，一定要清楚自己所做的每一步带来的影响，不然你数据没了，不过我是虚拟机，可以随便试"></a>操作前一定要特别注意，一定不要操作失误，一定要清楚自己所做的每一步带来的影响，不然你数据没了，不过我是虚拟机，可以随便试</h5><ul>
<li><h5 id="首先查看目前的分区情况"><a href="#首先查看目前的分区情况" class="headerlink" title="首先查看目前的分区情况"></a>首先查看目前的分区情况</h5></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fdisk -l</span><br></pre></td></tr></table></figure>
<p><img src="/css/5.png" alt="1"></p>
<p>可以直观看到我的磁盘<code>/dev/sda</code>下是没有分区的</p>
<h5 id="接下来我们创建一个引导分区"><a href="#接下来我们创建一个引导分区" class="headerlink" title="接下来我们创建一个引导分区"></a>接下来我们创建一个引导分区</h5><p>执行命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fdisk &#x2F;dev&#x2F;sda # 将sda换成你要进行分区的磁盘</span><br></pre></td></tr></table></figure>
<p>接下来就进入了<strong>fdisk</strong>的操作环境，可以输入<strong>m</strong>来查看各命令作用</p>
<ol>
<li><p>首先我是一块全新的磁盘：输入<strong>g</strong>创建一个全新的gpt分区表</p>
</li>
<li><p>输入n创建一个新的分区，一直回车默认即可，也可以自行分配</p>
</li>
<li><p>然后输入p来查看新创建的分区</p>
</li>
<li><p>输入w使所有的操作写入磁盘生效</p>
</li>
<li><p>输入以下命令格式化刚刚创建的引导分区</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkfs.fat -F32 &#x2F;dev&#x2F;sda1 # sda1替换成你创建的分区名字</span><br></pre></td></tr></table></figure>
<h5 id="执行完上面操作后引导分区就创建好了"><a href="#执行完上面操作后引导分区就创建好了" class="headerlink" title="执行完上面操作后引导分区就创建好了"></a>执行完上面操作后引导分区就创建好了</h5><h5 id="创建一个根分区"><a href="#创建一个根分区" class="headerlink" title="创建一个根分区"></a>创建一个根分区</h5><ol>
<li><p>首先我是一块全新的磁盘：输入<strong>o</strong>创建一个全新的MBR分区表</p>
</li>
<li><p>输入n创建一个新的分区，一直回车默认即可，也可以自行分配</p>
</li>
<li><p>然后输入p来查看新创建的分区</p>
</li>
<li><p>输入w使所有的操作写入磁盘生效</p>
</li>
<li><p>输入以下命令格式化刚刚创建的根分区</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkfs.ext4 &#x2F;dev&#x2F;sda1 # sda1替换成你创建的分区名字</span><br></pre></td></tr></table></figure>
<p><img src="/css/6.png" alt="1"></p>
<p>如你所见，现在多出了一块分区/dev/sda1</p>
<hr>
<h3 id="挂载"><a href="#挂载" class="headerlink" title="挂载"></a>挂载</h3><ul>
<li><h5 id="执行以下命令将分区挂载到-mnt"><a href="#执行以下命令将分区挂载到-mnt" class="headerlink" title="执行以下命令将分区挂载到/mnt"></a>执行以下命令将分区挂载到<code>/mnt</code></h5></li>
</ul>
<p>输入命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount &#x2F;dev&#x2F;sda1 &#x2F;mnt # 将sda1替换成之前创建的根分区</span><br></pre></td></tr></table></figure>
<ul>
<li><h5 id="如果是EFI-GPT引导方式，执行下列命令挂载到-mnt-boot"><a href="#如果是EFI-GPT引导方式，执行下列命令挂载到-mnt-boot" class="headerlink" title="如果是EFI/GPT引导方式，执行下列命令挂载到/mnt/boot"></a>如果是EFI/GPT引导方式，执行下列命令挂载到/mnt/boot</h5></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir &#x2F;mnt&#x2F;boot</span><br><span class="line">mount &#x2F;dev&#x2F;sda1 &#x2F;mnt&#x2F;boot # 将sda1替换成引导分区</span><br></pre></td></tr></table></figure>
<h5 id="挂载结束就可以选择镜像了"><a href="#挂载结束就可以选择镜像了" class="headerlink" title="挂载结束就可以选择镜像了"></a>挂载结束就可以选择镜像了</h5><hr>
<h3 id="选择镜像"><a href="#选择镜像" class="headerlink" title="选择镜像"></a>选择镜像</h3><p>根据不同地区选择不同的镜像来加快下载速度</p>
<p><del>硬下也没关系，只不过可能要下到猴年马月</del></p>
<p>执行以下命令来编辑源文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim &#x2F;etc&#x2F;pacman.d&#x2F;mirrorlist</span><br></pre></td></tr></table></figure>
<p>找到标有China的镜像源，剪切到最前面的位置</p>
<p>找不到就直接复制</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Server &#x3D; http:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;archlinux&#x2F;$repo&#x2F;os&#x2F;$arch</span><br><span class="line">Server &#x3D; http:&#x2F;&#x2F;mirrors.zju.edu.cn&#x2F;archlinux&#x2F;$repo&#x2F;os&#x2F;$arch</span><br></pre></td></tr></table></figure>
<p>之后用<code>:wq</code>保存并退出即可<img src="/css/2.jpg" alt="1"></p>
<hr>
<h3 id="安装基本包"><a href="#安装基本包" class="headerlink" title="安装基本包"></a>安装基本包</h3><p>折腾了一堆东西，总算可以开始安装基本包了，本过程需要全程联网<del>废话</del></p>
<p>执行以下命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacstrap &#x2F;mnt base base-devel linux linux-firmware dhcpcd</span><br></pre></td></tr></table></figure>
<h5 id="重新出现命令提示符说明下载结束了，可以进行下一步操作"><a href="#重新出现命令提示符说明下载结束了，可以进行下一步操作" class="headerlink" title="重新出现命令提示符说明下载结束了，可以进行下一步操作"></a>重新出现命令提示符说明下载结束了，可以进行下一步操作</h5><hr>
<h3 id="配置Fstab"><a href="#配置Fstab" class="headerlink" title="配置Fstab"></a>配置Fstab</h3><p>生成一个Fstab文件通过UUID或者标签进行定义</p>
<p>执行以下命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">genfstab -U &#x2F;mnt &gt;&gt; &#x2F;mnt&#x2F;etc&#x2F;fstab</span><br></pre></td></tr></table></figure>
<p>检查输出的文件<code>/mnt/etc/fstab</code>是否正确</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat &#x2F;mnt&#x2F;etc&#x2F;fstab</span><br></pre></td></tr></table></figure>
<p>没什么好讲的</p>
<h3 id="Chroot"><a href="#Chroot" class="headerlink" title="Chroot"></a>Chroot</h3><p>把Root权限给到新的系统</p>
<p>执行以下命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arch-chroot &#x2F;mnt</span><br></pre></td></tr></table></figure>
<p><img src="/css/7.png" alt="1"></p>
<h5 id="像上面这样"><a href="#像上面这样" class="headerlink" title="像上面这样"></a>像上面这样</h5><hr>
<h3 id="设置时区"><a href="#设置时区" class="headerlink" title="设置时区"></a>设置时区</h3><p>输入以下指令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ln -sf &#x2F;usr&#x2F;share&#x2F;zoneinfo&#x2F;Region&#x2F;City &#x2F;etc&#x2F;localtime # &#x2F;Region&#x2F;City改为自己城市和地区，例如&#x2F;Asia&#x2F;Shanghai</span><br><span class="line">hwclock --systohc</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="安装必须软件包"><a href="#安装必须软件包" class="headerlink" title="安装必须软件包"></a>安装必须软件包</h3><p>可以通过Archlinux的包管理器<strong>pacman</strong>下载，大部分情况只需要一行命令就帮你搞定依赖和安装的问题</p>
<p>输入以下指令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -S vim dialog wpa_supplicant ntfs-3g networkmanager netctl</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="设置locale"><a href="#设置locale" class="headerlink" title="设置locale"></a>设置locale</h3><p>执行以下命令已编辑/etc/locale.gen文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim &#x2F;etc&#x2F;locale.gen</span><br></pre></td></tr></table></figure>
<p>在文件中找到zh_CN.UTF-8 UTF-8和en_US.UTF-8 UTF-8</p>
<p>去掉开头的#号，并:<strong>wq</strong>保存退出</p>
<p>再执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">locale-gen</span><br></pre></td></tr></table></figure>
<p>打开<del>创建</del><code>/etc/locale.conf</code>文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim &#x2F;etc&#x2F;locale.conf</span><br></pre></td></tr></table></figure>
<p>在文件第一行加入<strong>LANG=en_US.UTF-8</strong></p>
<p>:<strong>wq</strong>并退出</p>
<hr>
<h3 id="设置Root密码"><a href="#设置Root密码" class="headerlink" title="设置Root密码"></a>设置Root密码</h3><p>没什么好说的</p>
<p>输入以下命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd</span><br></pre></td></tr></table></figure>
<p>按提示确认即可</p>
<hr>
<h3 id="安装Intel-ucode-非Intel的CPU的就跳过"><a href="#安装Intel-ucode-非Intel的CPU的就跳过" class="headerlink" title="安装Intel-ucode(非Intel的CPU的就跳过)"></a>安装Intel-ucode(非Intel的CPU的就跳过)</h3><p><strong>pacman</strong>安装</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -S intel-ucode</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="如果存在其他系统，安装os-prober"><a href="#如果存在其他系统，安装os-prober" class="headerlink" title="如果存在其他系统，安装os-prober"></a>如果存在其他系统，安装os-prober</h3><p>执行以下命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -S os-prober</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="安装grub进行引导"><a href="#安装grub进行引导" class="headerlink" title="安装grub进行引导"></a>安装grub进行引导</h3><ul>
<li><h5 id="安装grub："><a href="#安装grub：" class="headerlink" title="安装grub："></a>安装grub：</h5></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -S grub</span><br></pre></td></tr></table></figure>
<ul>
<li><h5 id="部署grub："><a href="#部署grub：" class="headerlink" title="部署grub："></a>部署grub：</h5></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grub-install --target&#x3D;i386-pc &#x2F;dev&#x2F;sda # 将sda换成你的硬盘</span><br></pre></td></tr></table></figure>
<ul>
<li><h5 id="生成配置文件："><a href="#生成配置文件：" class="headerlink" title="生成配置文件："></a>生成配置文件：</h5></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grub-mkconfig -o &#x2F;boot&#x2F;grub&#x2F;grub.cfg</span><br></pre></td></tr></table></figure>
<h5 id="如果是EFI-GPT引导方式"><a href="#如果是EFI-GPT引导方式" class="headerlink" title="如果是EFI/GPT引导方式"></a>如果是EFI/GPT引导方式</h5><ul>
<li><h5 id="安装grub和efibootmgr："><a href="#安装grub和efibootmgr：" class="headerlink" title="安装grub和efibootmgr："></a>安装grub和efibootmgr：</h5></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -S grub efibootmgr</span><br></pre></td></tr></table></figure>
<ul>
<li><h5 id="部署grub：-1"><a href="#部署grub：-1" class="headerlink" title="部署grub："></a>部署grub：</h5></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grub-install --target&#x3D;x86_64-efi --efi-directory&#x3D;&#x2F;boot --bootloader-id&#x3D;grub</span><br></pre></td></tr></table></figure>
<ul>
<li><h5 id="生成配置文件：-1"><a href="#生成配置文件：-1" class="headerlink" title="生成配置文件："></a>生成配置文件：</h5></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grub-mkconfig -o &#x2F;boot&#x2F;grub&#x2F;grub.cfg</span><br></pre></td></tr></table></figure>
<p>如果引导或挂载没什么问题这里应该是正常的<del>应该</del></p>
<hr>
<h3 id="安装后检查"><a href="#安装后检查" class="headerlink" title="安装后检查"></a>安装后检查</h3><p>输入以下指令检查是否成功生成各系统入口：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim &#x2F;boot&#x2F;grub&#x2F;grub.cfg</span><br></pre></td></tr></table></figure>
<p>如果没生成其他系统入口，请自行查阅</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/GRUB/Tips_and_tricks#Combining_the_use_of_UUIDs_and_basic_scripting">https://wiki.archlinux.org/index.php/GRUB/Tips_and_tricks#Combining_the_use_of_UUIDs_and_basic_scripting</a></p>
</blockquote>
<p>vans后就进行下一步</p>
<hr>
<h3 id="Reboot"><a href="#Reboot" class="headerlink" title="Reboot"></a>Reboot</h3><h5 id="一定要先确保所有步骤无误，否则重启后一切努力就会全部木大！"><a href="#一定要先确保所有步骤无误，否则重启后一切努力就会全部木大！" class="headerlink" title="一定要先确保所有步骤无误，否则重启后一切努力就会全部木大！"></a>一定要先确保所有步骤无误，否则重启后一切努力就会全部木大！</h5><p>确保无误后先输入<code>exit</code></p>
<p>然后取消挂载</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">umount &#x2F;mnt</span><br><span class="line">reboot</span><br></pre></td></tr></table></figure>
<p><img src="/css/8.png" alt="1"></p>
<p>如果你成功进入到这里了，恭喜你，你已经完成安装了</p>
<hr>
<h2 id="安装后配置"><a href="#安装后配置" class="headerlink" title="安装后配置"></a>安装后配置</h2><ul>
<li><h5 id="安装gnome图形界面"><a href="#安装gnome图形界面" class="headerlink" title="安装gnome图形界面"></a>安装gnome图形界面</h5></li>
</ul>
<p>输入以下指令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -S gnome gnome-extra</span><br></pre></td></tr></table></figure>
<p>如果下载失败了，很大程度上是因为你没联网<img src="/css/32.png" alt="1"></p>
<ul>
<li><h5 id="安装Xorg"><a href="#安装Xorg" class="headerlink" title="安装Xorg"></a>安装Xorg</h5></li>
</ul>
<p>开源图形服务，没有它就不支持桌面环境</p>
<p>执行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S xorg</span><br></pre></td></tr></table></figure>
<ul>
<li><h5 id="网络配置"><a href="#网络配置" class="headerlink" title="网络配置"></a>网络配置</h5></li>
</ul>
<p>禁用netctl启用NetworkManager<del>言简意赅</del></p>
<p>输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl disable netctl</span><br><span class="line">sudo systemctl enable NetworkManager</span><br></pre></td></tr></table></figure>
<p>你也可以安装桌面工具栏来配置网络</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S network-manager-applet</span><br></pre></td></tr></table></figure>
<ul>
<li><h5 id="安装并启用gdm"><a href="#安装并启用gdm" class="headerlink" title="安装并启用gdm"></a>安装并启用gdm</h5></li>
</ul>
<p>执行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pacman -S gdm</span><br><span class="line">systemctl enable gdm</span><br><span class="line">systemctl start gdm</span><br></pre></td></tr></table></figure>
<p>最后</p>
<p><img src="/css/9.png" alt="1"></p>
<hr>
<h2 id="安装结束"><a href="#安装结束" class="headerlink" title="安装结束"></a>安装结束</h2><p>如果在安装过程中你们遇到什么问题可以和我讲，我大家一起探讨</p>
<p>整篇文章有很多写错的地方还请指出斧正</p>
<p>谢谢！<br><img src="/css/33.png" alt="1"></p>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">首页</a></li>
         
          <li><a href="/archives">归档</a></li>
         
          <li><a href="/categories/">分类</a></li>
         
          <li><a href="/tags/">标签</a></li>
         
          <li><a href="/about/">关于</a></li>
         
          <li><a href="/friends/">朋友</a></li>
         
          <li><a href="/search/">搜索</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%88%E5%89%8D%E6%9C%89%E5%B0%9D%E8%AF%95%E8%BF%87%E7%94%A8VMware%E8%A3%85Archlinux"><span class="toc-number">1.</span> <span class="toc-text">先前有尝试过用VMware装Archlinux</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9B%A0%E4%B8%BA%E6%95%B4%E4%B8%AA%E7%B3%BB%E7%BB%9F%E9%83%BD%E6%98%AF%E5%9C%A8Cli%E4%B8%8B%E4%B8%80%E6%AD%A5%E6%AD%A5%E5%BC%95%E5%AF%BC%E5%AE%89%E8%A3%85"><span class="toc-number">1.0.0.0.1.</span> <span class="toc-text">因为整个系统都是在Cli下一步步引导安装</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%89%80%E4%BB%A5%E8%BF%99%E4%B8%AA%E6%95%99%E5%AD%A6%E4%B8%8D%E5%8F%AA%E6%98%AF%E9%92%88%E5%AF%B9%E4%BD%A0%E4%BB%AC%EF%BC%8C%E4%B9%9F%E6%98%AF%E4%B8%BA%E4%BA%86%E6%88%91%E4%BB%A5%E5%90%8E%E8%83%BD%E5%A4%9F%E9%A1%BA%E5%88%A9%E9%87%8D%E8%A3%85"><span class="toc-number">1.0.0.0.2.</span> <span class="toc-text">所以这个教学不只是针对你们，也是为了我以后能够顺利重装</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9C%80%E5%90%8E%E8%AF%B4%E6%98%8E%EF%BC%8C%E6%9C%AC%E6%AC%A1%E6%95%99%E5%AD%A6%E6%BC%94%E7%A4%BA%E5%B0%86%E4%BD%BF%E7%94%A8VMware%E8%BF%9B%E8%A1%8C%EF%BC%8C%E5%92%8C%E5%AE%9E%E6%9C%BA%E6%93%8D%E4%BD%9C%E5%8F%AF%E8%83%BD%E6%9C%89%E5%87%BA%E5%85%A5%EF%BC%8C%E5%A4%A7%E5%AE%B6%E4%BB%85%E4%BE%9B%E5%8F%82%E8%80%83"><span class="toc-number">1.0.0.0.3.</span> <span class="toc-text">最后说明，本次教学演示将使用VMware进行，和实机操作可能有出入，大家仅供参考</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BA%9F%E8%AF%9D%E8%AF%B4%E5%AE%8C%E4%BA%86%EF%BC%8C%E5%BC%80%E5%A7%8B%E6%93%8D%E4%BD%9C"><span class="toc-number">1.0.0.0.4.</span> <span class="toc-text">废话说完了，开始操作</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%89%8D%E5%87%86%E5%A4%87"><span class="toc-number">1.0.1.</span> <span class="toc-text">安装前准备</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A6%96%E5%85%88%E6%8A%8A%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E7%9A%84%E9%93%BE%E6%8E%A5%E6%94%BE%E5%9C%A8%E4%B8%8B%E9%9D%A2%EF%BC%8C%E6%9C%89%E8%83%BD%E5%8A%9B%E7%9A%84%E5%85%88%E5%AF%B9%E7%85%A7%E7%9D%80%E7%9C%8B"><span class="toc-number">1.0.1.1.</span> <span class="toc-text">首先把官方文档的链接放在下面，有能力的先对照着看</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">1.0.2.</span> <span class="toc-text">安装</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%B3%E4%BA%8EVMware%E7%9A%84%E5%88%9B%E5%BB%BA%E8%99%9A%E6%8B%9F%E6%9C%BA%E8%BF%87%E7%A8%8B%E5%B0%B1%E4%B8%8D%E4%B8%80%E4%B8%80%E9%98%90%E8%BF%B0%E4%BA%86%EF%BC%8C%E6%8E%A5%E4%B8%8B%E6%9D%A5%E5%8F%AA%E6%9C%89%E5%85%B3%E4%BA%8E%E5%88%9B%E5%BB%BA%E5%AE%8C%E6%88%90%E5%90%8E%E7%9A%84%E5%BC%95%E5%AF%BC%E6%93%8D%E4%BD%9C"><span class="toc-number">1.0.2.0.1.</span> <span class="toc-text">关于VMware的创建虚拟机过程就不一一阐述了，接下来只有关于创建完成后的引导操作</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BF%99%E9%87%8C%E9%80%89%E6%8B%A9%E7%AC%AC%E4%B8%80%E4%B8%AA%E9%80%89%E9%A1%B9%E6%88%96%E6%98%AF%E7%AD%89%E5%BE%85%E8%BF%87%E5%90%8E%E8%87%AA%E5%8A%A8%E8%BF%9B%E5%85%A5%E5%AE%89%E8%A3%85%E9%A1%B5%E9%9D%A2"><span class="toc-number">1.0.2.0.2.</span> <span class="toc-text">这里选择第一个选项或是等待过后自动进入安装页面</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A6%96%E5%85%88%E7%A1%AE%E5%AE%9A%E8%87%AA%E5%B7%B1%E7%9A%84%E5%BC%95%E5%AF%BC%E6%96%B9%E5%BC%8F"><span class="toc-number">1.0.3.</span> <span class="toc-text">首先确定自己的引导方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8B%E4%B8%80%E6%AD%A5%E6%98%AF%E8%81%94%E7%BD%91"><span class="toc-number">1.0.4.</span> <span class="toc-text">下一步是联网</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A6%82%E6%9E%9C%E4%BD%A0%E6%98%AF%E6%9C%89%E7%BA%BF%E7%BD%91%EF%BC%8C%E8%BE%93%E5%85%A5%E4%BB%A5%E4%B8%8B%E5%91%BD%E4%BB%A4%E8%8E%B7%E5%8F%96IP%E5%9C%B0%E5%9D%80"><span class="toc-number">1.0.4.0.1.</span> <span class="toc-text">如果你是有线网，输入以下命令获取IP地址</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A6%82%E6%9E%9C%E4%BD%A0%E6%98%AF%E6%97%A0%E7%BA%BF%E7%BD%91%EF%BC%8C%E5%B0%B1%E6%89%A7%E8%A1%8C%E4%BB%A5%E4%B8%8B%E5%91%BD%E4%BB%A4%EF%BC%9A"><span class="toc-number">1.0.4.0.2.</span> <span class="toc-text">如果你是无线网，就执行以下命令：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%88%90%E5%8A%9F%E8%BF%9E%E4%B8%8A%E7%BD%91%E5%90%8E%EF%BC%8C%E5%85%88%E6%9B%B4%E6%96%B0%E7%B3%BB%E7%BB%9F%E6%97%B6%E9%97%B4"><span class="toc-number">1.0.4.0.3.</span> <span class="toc-text">成功连上网后，先更新系统时间</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BF%99%E4%B8%8B%E5%BA%94%E8%AF%A5%E6%B2%A1%E9%97%AE%E9%A2%98%E4%BA%86%EF%BC%8C%E7%84%B6%E5%90%8E%E8%BF%9B%E8%A1%8C%E4%B8%8B%E4%B8%80%E6%AD%A5"><span class="toc-number">1.0.4.0.4.</span> <span class="toc-text">这下应该没问题了，然后进行下一步</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E5%8C%BA"><span class="toc-number">1.0.5.</span> <span class="toc-text">分区</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E5%89%8D%E4%B8%80%E5%AE%9A%E8%A6%81%E7%89%B9%E5%88%AB%E6%B3%A8%E6%84%8F%EF%BC%8C%E4%B8%80%E5%AE%9A%E4%B8%8D%E8%A6%81%E6%93%8D%E4%BD%9C%E5%A4%B1%E8%AF%AF%EF%BC%8C%E4%B8%80%E5%AE%9A%E8%A6%81%E6%B8%85%E6%A5%9A%E8%87%AA%E5%B7%B1%E6%89%80%E5%81%9A%E7%9A%84%E6%AF%8F%E4%B8%80%E6%AD%A5%E5%B8%A6%E6%9D%A5%E7%9A%84%E5%BD%B1%E5%93%8D%EF%BC%8C%E4%B8%8D%E7%84%B6%E4%BD%A0%E6%95%B0%E6%8D%AE%E6%B2%A1%E4%BA%86%EF%BC%8C%E4%B8%8D%E8%BF%87%E6%88%91%E6%98%AF%E8%99%9A%E6%8B%9F%E6%9C%BA%EF%BC%8C%E5%8F%AF%E4%BB%A5%E9%9A%8F%E4%BE%BF%E8%AF%95"><span class="toc-number">1.0.5.0.1.</span> <span class="toc-text">操作前一定要特别注意，一定不要操作失误，一定要清楚自己所做的每一步带来的影响，不然你数据没了，不过我是虚拟机，可以随便试</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%A6%96%E5%85%88%E6%9F%A5%E7%9C%8B%E7%9B%AE%E5%89%8D%E7%9A%84%E5%88%86%E5%8C%BA%E6%83%85%E5%86%B5"><span class="toc-number">1.0.5.0.2.</span> <span class="toc-text">首先查看目前的分区情况</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8E%A5%E4%B8%8B%E6%9D%A5%E6%88%91%E4%BB%AC%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%BC%95%E5%AF%BC%E5%88%86%E5%8C%BA"><span class="toc-number">1.0.5.0.3.</span> <span class="toc-text">接下来我们创建一个引导分区</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%89%A7%E8%A1%8C%E5%AE%8C%E4%B8%8A%E9%9D%A2%E6%93%8D%E4%BD%9C%E5%90%8E%E5%BC%95%E5%AF%BC%E5%88%86%E5%8C%BA%E5%B0%B1%E5%88%9B%E5%BB%BA%E5%A5%BD%E4%BA%86"><span class="toc-number">1.0.5.0.4.</span> <span class="toc-text">执行完上面操作后引导分区就创建好了</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%A0%B9%E5%88%86%E5%8C%BA"><span class="toc-number">1.0.5.0.5.</span> <span class="toc-text">创建一个根分区</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%82%E8%BD%BD"><span class="toc-number">1.0.6.</span> <span class="toc-text">挂载</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%89%A7%E8%A1%8C%E4%BB%A5%E4%B8%8B%E5%91%BD%E4%BB%A4%E5%B0%86%E5%88%86%E5%8C%BA%E6%8C%82%E8%BD%BD%E5%88%B0-mnt"><span class="toc-number">1.0.6.0.1.</span> <span class="toc-text">执行以下命令将分区挂载到&#x2F;mnt</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A6%82%E6%9E%9C%E6%98%AFEFI-GPT%E5%BC%95%E5%AF%BC%E6%96%B9%E5%BC%8F%EF%BC%8C%E6%89%A7%E8%A1%8C%E4%B8%8B%E5%88%97%E5%91%BD%E4%BB%A4%E6%8C%82%E8%BD%BD%E5%88%B0-mnt-boot"><span class="toc-number">1.0.6.0.2.</span> <span class="toc-text">如果是EFI&#x2F;GPT引导方式，执行下列命令挂载到&#x2F;mnt&#x2F;boot</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8C%82%E8%BD%BD%E7%BB%93%E6%9D%9F%E5%B0%B1%E5%8F%AF%E4%BB%A5%E9%80%89%E6%8B%A9%E9%95%9C%E5%83%8F%E4%BA%86"><span class="toc-number">1.0.6.0.3.</span> <span class="toc-text">挂载结束就可以选择镜像了</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E9%95%9C%E5%83%8F"><span class="toc-number">1.0.7.</span> <span class="toc-text">选择镜像</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%9F%BA%E6%9C%AC%E5%8C%85"><span class="toc-number">1.0.8.</span> <span class="toc-text">安装基本包</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%87%8D%E6%96%B0%E5%87%BA%E7%8E%B0%E5%91%BD%E4%BB%A4%E6%8F%90%E7%A4%BA%E7%AC%A6%E8%AF%B4%E6%98%8E%E4%B8%8B%E8%BD%BD%E7%BB%93%E6%9D%9F%E4%BA%86%EF%BC%8C%E5%8F%AF%E4%BB%A5%E8%BF%9B%E8%A1%8C%E4%B8%8B%E4%B8%80%E6%AD%A5%E6%93%8D%E4%BD%9C"><span class="toc-number">1.0.8.0.1.</span> <span class="toc-text">重新出现命令提示符说明下载结束了，可以进行下一步操作</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AEFstab"><span class="toc-number">1.0.9.</span> <span class="toc-text">配置Fstab</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Chroot"><span class="toc-number">1.0.10.</span> <span class="toc-text">Chroot</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%83%8F%E4%B8%8A%E9%9D%A2%E8%BF%99%E6%A0%B7"><span class="toc-number">1.0.10.0.1.</span> <span class="toc-text">像上面这样</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E6%97%B6%E5%8C%BA"><span class="toc-number">1.0.11.</span> <span class="toc-text">设置时区</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%BF%85%E9%A1%BB%E8%BD%AF%E4%BB%B6%E5%8C%85"><span class="toc-number">1.0.12.</span> <span class="toc-text">安装必须软件包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AElocale"><span class="toc-number">1.0.13.</span> <span class="toc-text">设置locale</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AERoot%E5%AF%86%E7%A0%81"><span class="toc-number">1.0.14.</span> <span class="toc-text">设置Root密码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85Intel-ucode-%E9%9D%9EIntel%E7%9A%84CPU%E7%9A%84%E5%B0%B1%E8%B7%B3%E8%BF%87"><span class="toc-number">1.0.15.</span> <span class="toc-text">安装Intel-ucode(非Intel的CPU的就跳过)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E6%9E%9C%E5%AD%98%E5%9C%A8%E5%85%B6%E4%BB%96%E7%B3%BB%E7%BB%9F%EF%BC%8C%E5%AE%89%E8%A3%85os-prober"><span class="toc-number">1.0.16.</span> <span class="toc-text">如果存在其他系统，安装os-prober</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85grub%E8%BF%9B%E8%A1%8C%E5%BC%95%E5%AF%BC"><span class="toc-number">1.0.17.</span> <span class="toc-text">安装grub进行引导</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%89%E8%A3%85grub%EF%BC%9A"><span class="toc-number">1.0.17.0.1.</span> <span class="toc-text">安装grub：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%83%A8%E7%BD%B2grub%EF%BC%9A"><span class="toc-number">1.0.17.0.2.</span> <span class="toc-text">部署grub：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%9A"><span class="toc-number">1.0.17.0.3.</span> <span class="toc-text">生成配置文件：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A6%82%E6%9E%9C%E6%98%AFEFI-GPT%E5%BC%95%E5%AF%BC%E6%96%B9%E5%BC%8F"><span class="toc-number">1.0.17.0.4.</span> <span class="toc-text">如果是EFI&#x2F;GPT引导方式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%89%E8%A3%85grub%E5%92%8Cefibootmgr%EF%BC%9A"><span class="toc-number">1.0.17.0.5.</span> <span class="toc-text">安装grub和efibootmgr：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%83%A8%E7%BD%B2grub%EF%BC%9A-1"><span class="toc-number">1.0.17.0.6.</span> <span class="toc-text">部署grub：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%9A-1"><span class="toc-number">1.0.17.0.7.</span> <span class="toc-text">生成配置文件：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%90%8E%E6%A3%80%E6%9F%A5"><span class="toc-number">1.0.18.</span> <span class="toc-text">安装后检查</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Reboot"><span class="toc-number">1.0.19.</span> <span class="toc-text">Reboot</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%80%E5%AE%9A%E8%A6%81%E5%85%88%E7%A1%AE%E4%BF%9D%E6%89%80%E6%9C%89%E6%AD%A5%E9%AA%A4%E6%97%A0%E8%AF%AF%EF%BC%8C%E5%90%A6%E5%88%99%E9%87%8D%E5%90%AF%E5%90%8E%E4%B8%80%E5%88%87%E5%8A%AA%E5%8A%9B%E5%B0%B1%E4%BC%9A%E5%85%A8%E9%83%A8%E6%9C%A8%E5%A4%A7%EF%BC%81"><span class="toc-number">1.0.19.0.1.</span> <span class="toc-text">一定要先确保所有步骤无误，否则重启后一切努力就会全部木大！</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%90%8E%E9%85%8D%E7%BD%AE"><span class="toc-number">1.1.</span> <span class="toc-text">安装后配置</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%89%E8%A3%85gnome%E5%9B%BE%E5%BD%A2%E7%95%8C%E9%9D%A2"><span class="toc-number">1.1.0.0.1.</span> <span class="toc-text">安装gnome图形界面</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%89%E8%A3%85Xorg"><span class="toc-number">1.1.0.0.2.</span> <span class="toc-text">安装Xorg</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE"><span class="toc-number">1.1.0.0.3.</span> <span class="toc-text">网络配置</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%B9%B6%E5%90%AF%E7%94%A8gdm"><span class="toc-number">1.1.0.0.4.</span> <span class="toc-text">安装并启用gdm</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E7%BB%93%E6%9D%9F"><span class="toc-number">1.2.</span> <span class="toc-text">安装结束</span></a></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://wynio.pw/posts/ae4f/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://wynio.pw/posts/ae4f/&text=ArchLinux安装指南"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://wynio.pw/posts/ae4f/&title=ArchLinux安装指南"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://wynio.pw/posts/ae4f/&is_video=false&description=ArchLinux安装指南"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=ArchLinux安装指南&body=Check out this article: https://wynio.pw/posts/ae4f/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://wynio.pw/posts/ae4f/&title=ArchLinux安装指南"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://wynio.pw/posts/ae4f/&title=ArchLinux安装指南"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://wynio.pw/posts/ae4f/&title=ArchLinux安装指南"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://wynio.pw/posts/ae4f/&title=ArchLinux安装指南"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://wynio.pw/posts/ae4f/&name=ArchLinux安装指南&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://wynio.pw/posts/ae4f/&t=ArchLinux安装指南"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> 菜单</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> 目录</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> 分享</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> 返回顶部</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2020-2022
    Resalia
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">首页</a></li>
         
          <li><a href="/archives">归档</a></li>
         
          <li><a href="/categories/">分类</a></li>
         
          <li><a href="/tags/">标签</a></li>
         
          <li><a href="/about/">关于</a></li>
         
          <li><a href="/friends/">朋友</a></li>
         
          <li><a href="/search/">搜索</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->

<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">


<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">


    <!-- jquery -->

<script src="/lib/jquery/jquery.min.js"></script>


<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>

<!-- clipboard -->

  
<script src="/lib/clipboard/clipboard.min.js"></script>

  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"复制到粘贴板!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "复制成功!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Umami Analytics -->

<!-- Disqus Comments -->



<div>
    <link rel="stylesheet" 
  href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css">
<script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@1.2.0/dist/Meting.min.js"></script>
  </div>
</body>
</html>
